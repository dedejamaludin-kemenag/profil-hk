<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Filter Program Pontren Modern</title>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <style>
    /* Palet Warna Baru (Modern Dark) */
    :root {
      --bg: #0d1117; /* Latar belakang gelap */
      --card: #161b22; /* Warna card/container */
      --line: #30363d; /* Garis/border halus */
      --text: #c9d1d9; /* Teks utama cerah */
      --mut: #8b949e; /* Teks sekunder/muted */
      --primary: #58a6ff; /* Warna aksi/tombol primer */
      --input-bg: #010409; /* Latar belakang input lebih gelap */
    }
    
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
      background-color: var(--bg);
      color: var(--text);
      min-height: 100vh;
    }
    .wrap {
      max-width: 1200px;
      margin: 24px auto;
      padding: 0 16px;
    }
    .card {
      background-color: var(--card);
      border: 1px solid var(--line);
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }
    h1 {
      margin: 0 0 4px;
      font-size: 24px;
      font-weight: 600;
      color: var(--primary); /* Judul menonjol */
    }
    .sub {
      color: var(--mut);
      font-size: 14px;
      margin-bottom: 20px;
    }
    /* Layout Filter */
    .grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr); /* 5 kolom filter */
      gap: 12px;
    }
    @media (max-width: 1000px) {
      .grid { grid-template-columns: repeat(3, 1fr); }
    }
    @media (max-width: 640px) {
      .grid { grid-template-columns: repeat(1, 1fr); } /* Satu kolom di Mobile */
    }
    
    label {
      display: block;
      font-size: 11px;
      color: var(--mut);
      margin-bottom: 4px;
      text-transform: uppercase;
      font-weight: 600;
    }
    
    select, input {
      width: 100%;
      padding: 10px 12px;
      border-radius: 6px;
      border: 1px solid var(--line);
      background-color: var(--input-bg);
      color: var(--text);
      outline: none;
      transition: border-color 0.2s;
    }
    select:focus, input:focus {
      border-color: var(--primary);
    }
    
    /* Baris Aksi (Search, Button, Status) */
    .row {
      display: flex;
      gap: 10px;
      align-items: flex-end; /* Align ke bawah untuk tombol */
      margin-top: 15px;
      flex-wrap: wrap;
    }
    @media (max-width: 500px) {
      .row { align-items: stretch; } /* Di mobile, tombol bisa memanjang */
      .row > button, .row > .pill { width: 100%; justify-content: center; }
    }
    
    button {
      padding: 10px 18px;
      border-radius: 6px;
      border: none;
      background-color: var(--primary);
      color: var(--card); /* Teks tombol gelap */
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.2s, opacity 0.2s;
    }
    button:hover {
      background-color: #388bfd;
    }
    button.secondary {
      background: var(--line);
      color: var(--text);
    }
    button.secondary:hover {
      background-color: #444c56;
    }
    
    .pill {
      display: flex;
      align-items: center;
      padding: 10px 12px;
      border: 1px solid var(--line);
      border-radius: 6px;
      color: var(--mut);
      font-size: 13px;
    }
    
    /* Tabel */
    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      margin-top: 20px;
      overflow: hidden;
      border-radius: 8px;
      border: 1px solid var(--line);
    }
    th, td {
      padding: 12px;
      border-bottom: 1px solid var(--line);
      vertical-align: top;
      font-size: 14px;
    }
    th {
      background-color: #010409; /* Header tabel lebih gelap */
      color: var(--mut);
      text-align: left;
      font-weight: 600;
      text-transform: uppercase;
      font-size: 12px;
    }
    tr:nth-child(even) {
      background-color: rgba(255, 255, 255, 0.02); /* Baris selang-seling */
    }
    tr:last-child td {
      border-bottom: none;
    }
    
    .muted{ color: var(--mut); }
    .muted-small{ color: var(--mut); font-size: 11px; display: block; margin-top: 4px; }
    .loading { opacity: 0.6; pointer-events: none; }
    
    /* Responsif Tabel (Horizontal Scroll di Mobile) */
    .table-container {
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Filter Program Pontren</h1>
      <div class="sub">Filter data program pesantren dan madrasah berbasis Supabase.</div>

      <div class="grid">
        <div>
          <label for="f_profil">PROFIL</label>
          <select id="f_profil"><option value="">Semua</option></select>
        </div>
        <div>
          <label for="f_indikator">INDIKATOR</label>
          <select id="f_indikator"><option value="">Semua</option></select>
        </div>
        <div>
          <label for="f_pic">PIC</label>
          <select id="f_pic"><option value="">Semua</option></select>
        </div>
        <div>
          <label for="f_program">PROGRAM</label>
          <select id="f_program"><option value="">Semua</option></select>
        </div>
        <div>
          <label for="f_penilaian">PENILAIAN</label>
          <select id="f_penilaian"><option value="">Semua</option></select>
        </div>
      </div>

      <div class="row">
        <div style="flex:1;min-width:200px">
          <label for="q">Pencarian bebas</label>
          <input id="q" placeholder="Cari kata kunci di semua kolom..." />
        </div>
        <button id="btn_apply">Terapkan Filter</button>
        <button class="secondary" id="btn_reset">Reset</button>
        <span class="pill">Hasil: <b id="count">0</b> Data</span>
        <span class="pill muted" id="status">Siap.</span>
      </div>
    </div>
    
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th style="min-width:280px">PROFIL (DEFINISI)</th> 
            <th style="min-width:180px">INDIKATOR</th>
            <th style="min-width:140px">PIC</th>
            <th style="min-width:250px">PROGRAM</th>
            <th style="min-width:140px">PENILAIAN</th>
          </tr>
        </thead>
        <tbody id="tbody">
          <tr><td colspan="5" class="muted">Belum ada data ditampilkan.</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <script src="./app.js"></script>
</body>
</html>
